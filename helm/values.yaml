# fullnameOverride: "redis-operator-test"

global:
  rbac:
    create: true

redisOperator:
  enabled: true
  namespace: default
  managerReplicas: 2 # Number of manger pods the Deployment will create
  labels:
    control-plane: "controller-manager"
  serviceAccount:
  #   create: true
    name: "redis-operator-manager"
  imagePullSecrets:
  - name: regcred
  terminationGracePeriodSeconds: 10

  manager:
    name: manager
    resources:
      limits:
        cpu: 1000m
        memory: 1024Mi
      requests:
        cpu: 100m
        memory: 256Mi
    image: redis-operator-docker:local
    imagePullPolicy: IfNotPresent

redisCluster:
  enabled: true
  name: rdc-test
  namespace: default
  leaderCount: 3
  leaderFollowersCount: 2
  hostTopologyKey: "kubernetes.io/hostname"
  zoneTopologyKey: "failure-domain.beta.kubernetes.io/zone"
  podLabelSelector:
    app: redis
  imagePullSecrets: regcred
  enableHugePages: false

  initContainer:
    name: init-container
    resources:
      limits:
        cpu: 300m
        memory: 256Mi
      requests:
        cpu: 100m
        memory: 128Mi
    image: redis-init:testing
    imagePullPolicy: IfNotPresent

  prometheusExporter:
    name: prometheus-exporter
    resources:
      limits:
        cpu: 500m
        memory: 512Mi
      requests:
        cpu: 100m
        memory: 256Mi
    image: metrics-exporter:testing
    imagePullPolicy: IfNotPresent
    ports:
    - containerPort: 9121

  redis:
    name: redis
    resources:
      limits:
        cpu: 500m
        memory: 500Mi
      requests:
        cpu: 50m
        memory: 50Mi
    image: redis:testing
    imagePullPolicy: IfNotPresent
    ports:
    - containerPort: 6379
      protocol: TCP
    env:
    - name: PORT
      value: "6379"
    - name: CONF_PATH
      value: "/usr/local/etc/redis/redis.conf"
